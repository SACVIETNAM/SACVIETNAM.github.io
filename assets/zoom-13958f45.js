import{r as u,an as K,c as d,ao as M,t as j,i as J,ap as C,y as ee,af as D,u as ne,aq as L,ad as te,k as ae,ar as re,a as oe,as as ie,K as c}from"./index-094c5b33.js";function T(e){var n=u.useRef();n.current=e;var t=u.useCallback(function(){for(var a,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(a=n.current)===null||a===void 0?void 0:a.call.apply(a,[n].concat(r))},[]);return t}function b(e){return e!==void 0}function Ne(e,n){var t=n||{},a=t.defaultValue,o=t.value,r=t.onChange,i=t.postState,l=K(function(){return b(o)?o:b(a)?typeof a=="function"?a():a:typeof e=="function"?e():e}),p=d(l,2),f=p[0],g=p[1],v=o!==void 0?o:f,h=i?i(v):v,S=T(r),s=K([v]),m=d(s,2),w=m[0],_=m[1];M(function(){var y=w[0];f!==y&&S(f,y)},[w]),M(function(){b(o)||g(o)},[o]);var $=T(function(y,I){g(y,I),_([v],I)});return[h,$]}function W(e){var n;return e==null||(n=e.getRootNode)===null||n===void 0?void 0:n.call(e)}function ue(e){return W(e)instanceof ShadowRoot}function Ze(e){return ue(e)?W(e):null}const se=j.createContext(void 0),ce=se,O=100,fe=10,me=O*fe,Q={Modal:O,Drawer:O,Popover:O,Popconfirm:O,Tooltip:O,Tour:O},le={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function de(e){return e in Q}function Fe(e,n){const[,t]=J(),a=j.useContext(ce),o=de(e);if(n!==void 0)return[n,n];let r=a??0;return o?(r+=(a?0:t.zIndexPopupBase)+Q[e],r=Math.min(r,t.zIndexPopupBase+me)):r+=le[e],[a===void 0?n:r,r]}const Be=(e,n,t)=>t!==void 0?t:`${e}-${n}`;var H=u.createContext(null),N=[];function ve(e,n){var t=u.useState(function(){if(!C())return null;var s=document.createElement("div");return s}),a=d(t,1),o=a[0],r=u.useRef(!1),i=u.useContext(H),l=u.useState(N),p=d(l,2),f=p[0],g=p[1],v=i||(r.current?void 0:function(s){g(function(m){var w=[s].concat(ee(m));return w})});function h(){o.parentElement||document.body.appendChild(o),r.current=!0}function S(){var s;(s=o.parentElement)===null||s===void 0||s.removeChild(o),r.current=!1}return D(function(){return e?i?i(h):h():S(),S},[e]),D(function(){f.length&&(f.forEach(function(s){return s()}),g(N))},[f]),[o,v]}var x;function pe(e){if(typeof document>"u")return 0;if(e||x===void 0){var n=document.createElement("div");n.style.width="100%",n.style.height="200px";var t=document.createElement("div"),a=t.style;a.position="absolute",a.top="0",a.left="0",a.pointerEvents="none",a.visibility="hidden",a.width="200px",a.height="150px",a.overflow="hidden",t.appendChild(n),document.body.appendChild(t);var o=n.offsetWidth;t.style.overflow="scroll";var r=n.offsetWidth;o===r&&(r=t.clientWidth),document.body.removeChild(t),x=o-r}return x}function Z(e){var n=e.match(/^(.*)px$/),t=Number(n==null?void 0:n[1]);return Number.isNaN(t)?pe():t}function ge(e){if(typeof document>"u"||!e||!(e instanceof Element))return{width:0,height:0};var n=getComputedStyle(e,"::-webkit-scrollbar"),t=n.width,a=n.height;return{width:Z(t),height:Z(a)}}function he(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var ye="rc-util-locker-".concat(Date.now()),F=0;function Oe(e){var n=!!e,t=u.useState(function(){return F+=1,"".concat(ye,"_").concat(F)}),a=d(t,1),o=a[0];D(function(){if(n){var r=ge(document.body).width,i=he();ne(`
html body {
  overflow-y: hidden;
  `.concat(i?"width: calc(100% - ".concat(r,"px);"):"",`
}`),o)}else L(o);return function(){L(o)}},[n,o])}var B=!1;function Se(e){return typeof e=="boolean"&&(B=e),B}var U=function(n){return n===!1?!1:!C()||!n?null:typeof n=="string"?document.querySelector(n):typeof n=="function"?n():n},Ue=u.forwardRef(function(e,n){var t=e.open,a=e.autoLock,o=e.getContainer;e.debug;var r=e.autoDestroy,i=r===void 0?!0:r,l=e.children,p=u.useState(t),f=d(p,2),g=f[0],v=f[1],h=g||t;u.useEffect(function(){(i||t)&&v(t)},[t,i]);var S=u.useState(function(){return U(o)}),s=d(S,2),m=s[0],w=s[1];u.useEffect(function(){var z=U(o);w(z??null)});var _=ve(h&&!m),$=d(_,2),y=$[0],I=$[1],R=m??y;Oe(a&&t&&C()&&(R===y||R===document.body));var P=null;if(l&&te(l)&&n){var X=l;P=X.ref}var Y=ae(P,n);if(!h||!C()||m===void 0)return null;var G=R===!1||Se(),E=l;return n&&(E=u.cloneElement(l,{ref:Y})),u.createElement(H.Provider,{value:I},G?E:re.createPortal(E,R))});function we(){var e=oe({},ie);return e.useId}var A=0,V=we();const Ae=V?function(n){var t=V();return n||t}:function(n){var t=u.useState("ssr-id"),a=d(t,2),o=a[0],r=a[1];return u.useEffect(function(){var i=A;A+=1,r("rc_unique_".concat(i))},[]),n||o},$e=e=>({animationDuration:e,animationFillMode:"both"}),Ie=e=>({animationDuration:e,animationFillMode:"both"}),Re=function(e,n,t,a){const r=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${r}${e}-enter,
      ${r}${e}-appear
    `]:Object.assign(Object.assign({},$e(a)),{animationPlayState:"paused"}),[`${r}${e}-leave`]:Object.assign(Object.assign({},Ie(a)),{animationPlayState:"paused"}),[`
      ${r}${e}-enter${e}-enter-active,
      ${r}${e}-appear${e}-appear-active
    `]:{animationName:n,animationPlayState:"running"},[`${r}${e}-leave${e}-leave-active`]:{animationName:t,animationPlayState:"running",pointerEvents:"none"}}},Ce=new c("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),_e=new c("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),k=new c("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),q=new c("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),Ee=new c("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),ze=new c("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),be=new c("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),xe=new c("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),De=new c("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Pe=new c("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),Ke=new c("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Me=new c("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),Le={zoom:{inKeyframes:Ce,outKeyframes:_e},"zoom-big":{inKeyframes:k,outKeyframes:q},"zoom-big-fast":{inKeyframes:k,outKeyframes:q},"zoom-left":{inKeyframes:be,outKeyframes:xe},"zoom-right":{inKeyframes:De,outKeyframes:Pe},"zoom-up":{inKeyframes:Ee,outKeyframes:ze},"zoom-down":{inKeyframes:Ke,outKeyframes:Me}},Ve=(e,n)=>{const{antCls:t}=e,a=`${t}-${n}`,{inKeyframes:o,outKeyframes:r}=Le[n];return[Re(a,o,r,n==="zoom-big-fast"?e.motionDurationFast:e.motionDurationMid),{[`
        ${a}-enter,
        ${a}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${a}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]};export{Ue as P,Ve as a,Ne as b,Fe as c,Be as d,T as e,Ze as g,Re as i,Ae as u,ce as z};
